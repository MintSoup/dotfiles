# Key bindings
$mainMod = SUPER

# Basic bindings
bind = $mainMod, Return, exec, foot
bind = $mainMod, X, killactive
bind = $mainMod CTRL, R, exec, hyprctl reload
bind = $mainMod CTRL, M, fullscreen, 1
bind = $mainMod CTRL, Space, togglefloating

# Application launchers
bind = $mainMod, Space, exec, ~/.config/rofi/launchers/type-3/launcher.sh
bind = $mainMod, semicolon, exec, rofi -show emoji
bind = $mainMod, C, exec, copyq show
bind = $mainMod SHIFT, E, exec, pcmanfm-qt
bind = $mainMod SHIFT, S, exec, flameshot gui
bind = $mainMod SHIFT, M, exec, $TERMINAL -e ncmpcpp
bind = $mainMod SHIFT, N, exec, $TERMINAL -e nmtui
bind = $mainMod SHIFT, V, exec, $TERMINAL -e nvim
bind = $mainMod SHIFT, B, exec, $TERMINAL -e htop
bind = $mainMod SHIFT, W, exec, emacsclient -c -a ""
bind = $mainMod SHIFT, D, exec, emacsclient -c -a "" -e '(find-file "~")'

# Focus movement (vim-like)
bind = $mainMod, J, cyclenext
bind = $mainMod, K, cyclenext, prev

# Window swapping
bind = $mainMod SHIFT, J, swapnext
bind = $mainMod SHIFT, K, swapnext, prev

# Master layout controls
bind = $mainMod, H, splitratio, -0.05
bind = $mainMod, L, splitratio, +0.05
# bind = $mainMod SHIFT, H, addmaster, 1
# bind = $mainMod SHIFT, L, addmaster, -1

# Individual window resize (equivalent to incwfact)
# bind = $mainMod ALT, H, resizeactive, 50 0
# bind = $mainMod ALT, L, resizeactive, -50 0

# Urgent window (best equivalent)
bind = $mainMod, U, focusurgentorlast

# Workspace switching (numpad keys)
bind = $mainMod, KP_End, workspace, 1		 # Numpad 1
bind = $mainMod, KP_Down, workspace, 2		 # Numpad 2	 
bind = $mainMod, KP_Next, workspace, 3		 # Numpad 3
bind = $mainMod, KP_Left, workspace, 4		 # Numpad 4
bind = $mainMod, KP_Begin, workspace, 5		 # Numpad 5
bind = $mainMod, KP_Right, workspace, 6		 # Numpad 6
bind = $mainMod, KP_Home, workspace, 7		 # Numpad 7
bind = $mainMod, KP_Up, workspace, 8		 # Numpad 8
bind = $mainMod, KP_Prior, workspace, 9		 # Numpad 9

# Move window to workspace
bind = $mainMod SHIFT, KP_End, movetoworkspacesilent, 1
bind = $mainMod SHIFT, KP_Down, movetoworkspacesilent, 2
bind = $mainMod SHIFT, KP_Next, movetoworkspacesilent, 3
bind = $mainMod SHIFT, KP_Left, movetoworkspacesilent, 4
bind = $mainMod SHIFT, KP_Begin, movetoworkspacesilent, 5
bind = $mainMod SHIFT, KP_Right, movetoworkspacesilent, 6
bind = $mainMod SHIFT, KP_Home, movetoworkspacesilent, 7
bind = $mainMod SHIFT, KP_Up, movetoworkspacesilent, 8
bind = $mainMod SHIFT, KP_Prior, movetoworkspacesilent, 9

# Media keys
binde = , XF86AudioRaiseVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 2%+ -l 1
binde = , XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 2%- -l 1
bind = , XF86AudioMicMute, exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle
bind = $mainMod, XF86AudioRaiseVolume, exec, mpc volume +2
bind = $mainMod, XF86AudioLowerVolume, exec, mpc volume -2

# Brightness controls
bind = , XF86MonBrightnessUp, exec, brightnessctl set +10%
bind = , XF86MonBrightnessDown, exec, brightnessctl set 10%-

# Keyboard brightness
bind = , XF86KbdBrightnessUp, exec, echo + > /run/kbdbacklight
bind = , XF86KbdBrightnessDown, exec, echo - > /run/kbdbacklight

# Power controls
bind = , XF86PowerOff, exec, ~/.config/rofi/powermenu/type-4/powermenu.sh
bind = , XF86TouchpadToggle, exec, toggletpad
bind = , XF86Launch1, exec, speedcrunch
bind = , XF86Sleep, exec, hyprlock

# Waybar toggle
bind = $mainMod, B, exec, killall -SIGUSR2 waybar

# Mouse bindings
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow
bind = $mainMod, mouse:274, togglefloating



# Volume control with mouse 8 + scroll
bind = , mouse:275, submap, mouse8mode
submap = mouse8mode
	bind = , mouse_down, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 2%+ -l 1
	bind = , mouse_up, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 2%- -l 1
	bindr = , mouse:275, submap, reset
submap = reset

# Navigate 3x3 workspace grid with mouse 9 +
# scroll/leftclick/rightclick Implemented as a plugin because it
# requires (1) custom logic for bounds checking on 3x3 worksapce grid
# and (2) hyprland releases all mouse buttons when changing workspaces
plugin = /home/areg/.config/hypr/hypr_grid_nav/libhypr-grid-nav.so



binds:scroll_event_delay = 0


